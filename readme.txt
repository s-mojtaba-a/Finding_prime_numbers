It's not as good as sieve of eratosten, but it will work for N<=3000000 .
sieve of eratosten only iterates over prime numbers smaller than sqrt(n) .
bitsets can be use in sieve of eratosten to lower the memory consumption by a factor of 1/8 . 
